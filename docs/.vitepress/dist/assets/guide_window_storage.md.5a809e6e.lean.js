import { v as t, b as a, R as s } from './chunks/framework.5bf5a401.js';
const e = s(
    '<h1 id="storage" tabindex="-1">Storage <a class="header-anchor" href="#storage" aria-label="Permalink to &quot;Storage&quot;">​</a></h1><p><code>localStorage</code>和<code>sessionStorage</code>二次封装，内置存储时效，加密数据存储逻辑</p><details class="details custom-block"><summary>示例代码</summary><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_storage</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@jsxiaosi/utils</span><span style="color:#89DDFF;">&#39;</span></span></code></pre></div></details><h2 id="setstorageconfig" tabindex="-1">setStorageConfig <a class="header-anchor" href="#setstorageconfig" aria-label="Permalink to &quot;setStorageConfig&quot;">​</a></h2><p>存储配置</p><details class="details custom-block"><summary>示例代码</summary><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">_storage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setStorageConfig</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">prefix</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">prefix</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>\n<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// prefix: (key) =&gt; `prefix-${key}`,  自定义前缀格式</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">expire</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3000</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 50分钟</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">secretKey</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">secretIv</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>\n<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre></div></details><p>参数:</p><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th><th>备注</th></tr></thead><tbody><tr><td>prefix</td><td>存储前缀</td><td><code>string / ((key: string) =&gt; string)</code></td><td></td><td></td></tr><tr><td>expire</td><td>存储时效</td><td>number</td><td>0</td><td><code>秒</code>单位，为0不设置超时时间</td></tr><tr><td>isEncrypt</td><td>是否开启加密</td><td>boolean</td><td>false</td><td></td></tr><tr><td>secretKey</td><td>加密密钥</td><td>string</td><td></td><td>isEncrypt为true生效</td></tr><tr><td>secretIv</td><td>加密秘钥偏移量</td><td>string</td><td></td><td>isEncrypt为true生效</td></tr></tbody></table><h2 id="issupportstorage" tabindex="-1">isSupportStorage <a class="header-anchor" href="#issupportstorage" aria-label="Permalink to &quot;isSupportStorage&quot;">​</a></h2><p>判断当前环境是否支持 Storage</p><details class="details custom-block"><summary>示例代码</summary><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">_storage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isSupportStorage</span><span style="color:#A6ACCD;">()</span></span></code></pre></div></details><p>返回类型： <code>boolean</code></p><h2 id="setstorage-t" tabindex="-1">setStorage<code>&lt;T&gt;</code> <a class="header-anchor" href="#setstorage-t" aria-label="Permalink to &quot;setStorage`&lt;T&gt;`&quot;">​</a></h2><p>设置 setStorage<code>&lt;T&gt;</code></p><details class="details custom-block"><summary>示例代码</summary><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">_storage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setStorage</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">(key</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> expire</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> type)</span></span></code></pre></div></details><p>参数:</p><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th><th>备注</th></tr></thead><tbody><tr><td>key</td><td>存储名称</td><td>string</td><td></td><td></td></tr><tr><td>value</td><td>存储对象</td><td>T</td><td></td><td></td></tr><tr><td>expire</td><td>存储时效</td><td>number</td><td>0</td><td>为0不设置超时时间</td></tr><tr><td>type</td><td>存储方式</td><td>localStorage/sessionStorage</td><td>localStorage</td><td></td></tr></tbody></table><h2 id="getstorage-t" tabindex="-1">getStorage<code>&lt;T&gt;</code> <a class="header-anchor" href="#getstorage-t" aria-label="Permalink to &quot;getStorage`&lt;T&gt;`&quot;">​</a></h2><p>获取 getStorage<code>&lt;T&gt;</code></p><details class="details custom-block"><summary>示例代码</summary><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">_storage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getStorage</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">(key</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> expire</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> type)</span></span></code></pre></div></details><p>参数:</p><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th><th>备注</th></tr></thead><tbody><tr><td>key</td><td>存储名称</td><td>string</td><td></td><td></td></tr><tr><td>expire</td><td>存储时效</td><td>number</td><td>0</td><td>为0不设置超时时间</td></tr><tr><td>type</td><td>存储方式</td><td>localStorage/sessionStorage</td><td>localStorage</td><td></td></tr></tbody></table><p>返回类型：<code>T | null | undefined</code></p><h2 id="hasstorage" tabindex="-1">hasStorage <a class="header-anchor" href="#hasstorage" aria-label="Permalink to &quot;hasStorage&quot;">​</a></h2><p>是否存在 storage</p><details class="details custom-block"><summary>示例代码</summary><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">_storage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">hasStorage</span><span style="color:#A6ACCD;">(key</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> value)</span></span></code></pre></div></details><p>参数:</p><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th><th>备注</th></tr></thead><tbody><tr><td>key</td><td>存储名称</td><td>string</td><td></td><td></td></tr><tr><td>type</td><td>存储方式</td><td>localStorage/sessionStorage</td><td>localStorage</td><td></td></tr></tbody></table><p>返回类型：<code>boolean</code></p><h2 id="getstoragekeys" tabindex="-1">getStorageKeys <a class="header-anchor" href="#getstoragekeys" aria-label="Permalink to &quot;getStorageKeys&quot;">​</a></h2><p>获取所有key</p><details class="details custom-block"><summary>示例代码</summary><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">_storage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getStorageKeys</span><span style="color:#A6ACCD;">(key</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> value)</span></span></code></pre></div></details><p>参数:</p><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th><th>备注</th></tr></thead><tbody><tr><td>key</td><td>存储名称</td><td>string</td><td></td><td></td></tr><tr><td>type</td><td>存储方式</td><td>localStorage/sessionStorage</td><td>localStorage</td><td></td></tr></tbody></table><p>返回类型：<code>string[]</code></p><h2 id="getstorageforindex" tabindex="-1">getStorageForIndex <a class="header-anchor" href="#getstorageforindex" aria-label="Permalink to &quot;getStorageForIndex&quot;">​</a></h2><p>根据索引获取key</p><details class="details custom-block"><summary>示例代码</summary><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">_storage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getStorageForIndex</span><span style="color:#A6ACCD;">(index</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> type)</span></span></code></pre></div></details><p>参数:</p><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th><th>备注</th></tr></thead><tbody><tr><td>index</td><td>下标</td><td>number</td><td></td><td></td></tr><tr><td>type</td><td>存储方式</td><td>localStorage/sessionStorage</td><td>localStorage</td><td></td></tr></tbody></table><p>返回类型：<code>string</code></p><h2 id="getstoragelength" tabindex="-1">getStorageLength <a class="header-anchor" href="#getstoragelength" aria-label="Permalink to &quot;getStorageLength&quot;">​</a></h2><p>获取storage长度</p><details class="details custom-block"><summary>示例代码</summary><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">_storage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getStorageLength</span><span style="color:#A6ACCD;">(type)</span></span></code></pre></div></details><p>参数:</p><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th><th>备注</th></tr></thead><tbody><tr><td>type</td><td>存储方式</td><td>localStorage/sessionStorage</td><td>localStorage</td><td></td></tr></tbody></table><p>返回类型：<code>number</code></p><h2 id="getstorageall" tabindex="-1">getStorageAll <a class="header-anchor" href="#getstorageall" aria-label="Permalink to &quot;getStorageAll&quot;">​</a></h2><p>获取全部 storage</p><details class="details custom-block"><summary>示例代码</summary><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">_storage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getStorageAll</span><span style="color:#A6ACCD;">(type)</span></span></code></pre></div></details><p>参数:</p><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th><th>备注</th></tr></thead><tbody><tr><td>type</td><td>存储方式</td><td>localStorage/sessionStorage</td><td>localStorage</td><td></td></tr></tbody></table><p>返回类型：</p><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th><th>备注</th></tr></thead><tbody><tr><td>key</td><td>存储名称</td><td>string</td><td></td><td></td></tr><tr><td>val</td><td>存储数据</td><td>string</td><td></td><td>JSON</td></tr></tbody></table><h2 id="removestorage" tabindex="-1">removeStorage <a class="header-anchor" href="#removestorage" aria-label="Permalink to &quot;removeStorage&quot;">​</a></h2><p>删除 storage</p><details class="details custom-block"><summary>示例代码</summary><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">_storage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">removeStorage</span><span style="color:#A6ACCD;">(key</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> type)</span></span></code></pre></div></details><p>参数:</p><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th><th>备注</th></tr></thead><tbody><tr><td>key</td><td>存储名称</td><td>string</td><td></td><td></td></tr><tr><td>type</td><td>存储方式</td><td>localStorage/sessionStorage</td><td>localStorage</td><td></td></tr></tbody></table><h2 id="clearstorage" tabindex="-1">clearStorage <a class="header-anchor" href="#clearstorage" aria-label="Permalink to &quot;clearStorage&quot;">​</a></h2><p>清空 storage</p><details class="details custom-block"><summary>示例代码</summary><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">_storage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">clearStorage</span><span style="color:#A6ACCD;">(type)</span></span></code></pre></div></details><p>参数:</p><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th><th>备注</th></tr></thead><tbody><tr><td>type</td><td>存储方式</td><td>localStorage/sessionStorage</td><td>localStorage</td><td></td></tr></tbody></table><h2 id="autoaddprefix" tabindex="-1">autoAddPrefix <a class="header-anchor" href="#autoaddprefix" aria-label="Permalink to &quot;autoAddPrefix&quot;">​</a></h2><p>名称前自动添加前缀</p><details class="details custom-block"><summary>示例代码</summary><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">_storage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">autoAddPrefix</span><span style="color:#A6ACCD;">(key)</span></span></code></pre></div></details><p>参数:</p><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th><th>备注</th></tr></thead><tbody><tr><td>key</td><td>存储名称</td><td>string</td><td></td><td></td></tr></tbody></table><p>返回类型：<code>string</code></p><h2 id="autoremoveprefix" tabindex="-1">autoRemovePrefix <a class="header-anchor" href="#autoremoveprefix" aria-label="Permalink to &quot;autoRemovePrefix&quot;">​</a></h2><p>名称前自动添加前缀</p><details class="details custom-block"><summary>示例代码</summary><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">_storage</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">autoRemovePrefix</span><span style="color:#A6ACCD;">(key)</span></span></code></pre></div></details><p>参数:</p><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th><th>备注</th></tr></thead><tbody><tr><td>key</td><td>存储名称</td><td>string</td><td></td><td></td></tr></tbody></table><p>返回类型：<code>string</code></p>',
    76,
  ),
  o = [e],
  c = JSON.parse(
    '{"title":"Storage","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"guide/window/storage.md","filePath":"guide/window/storage.md","lastUpdated":1696858203000}',
  ),
  l = { name: 'guide/window/storage.md' },
  i = Object.assign(l, {
    setup(r) {
      return (d, n) => (t(), a('div', null, o));
    },
  });
export { c as __pageData, i as default };
